<!DOCTYPE html>
<html lang="es">

<head id="idhead">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">

    <!-- GOOGLE FONTS -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <title>Témpano helados</title>
</head>

<body>
    <section class="container">
        <header id="idheader" class="item"></header>
        <nav id="idnav" class="item flex_nav"></nav>
        <aside class="item centrado">
            <br>
            <img src="images/old-typical-phone.png" class="animate__animated animate__shakeX icons">
            <p>Palermo</p>
            <span class="gold">258-4001-5588</span><br><br>
            <p>Caballito </p>
            <span class="gold">112-2587-0011</span>
        </aside>
        <main class="item">
            <h2>Hacé tu consulta, te responderemos a la brevedad!</h2>
            <p>Formulario de contacto</p>
            <div class="form">
                <form name="form_contacto" action="gracias.html">
                    <div class="input">
                        <label class="gold" for="email">email de respuesta</label><br>
                        <input type="email" name="email" placeholder="ejemplo@hotmail.com" required>
                    </div>
                    <div class="input">
                        <label class="gold" for="nombre">tu nombre</label><br>
                        <input type="text" name="nombre" placeholder="nombre" maxlength="60" required>
                    </div>
                    <div class="input">
                        <label class="gold" for="consulta">tu consulta</label><br>
                        <textarea name="consulta" id="consulta" rows="7" cols="30"
                            placeholder="deseo saber..."></textarea>
                    </div>
                    <div class="input text-centrado">
                        <input type="button" value="enviar consulta" onclick="validar()">
                    </div>

                </form>
            </div>

            <div id="opiniones">
                <h2>Opiniones de nuestros clientes! (Simulación para uso de API)</h2>
                <div id="mensajes" class="opiniones"></div>


                <script>
                    let contenedor = document.getElementById('mensajes')
                    let userId
                    
                    const opinion = (id) => {
                        fetch(`https://jsonplaceholder.typicode.com/todos/${id}`)
                            .then(res => {
                                return res.json()
                            })
                            .then(mensaje => {
                                userId = mensaje.userId
                                fetch(`https://jsonplaceholder.typicode.com/users/${userId}`)
                                    .then(res_user => {
                                        return res_user.json()
                                    })
                                    .then(usuario => {
                                        contenedor.innerHTML = contenedor.innerHTML + 'usuario: ' +
                                            usuario.name + '<br>mensaje: ' + mensaje.id + ' - ' + 
                                            mensaje.title + '<hr><br>'
                                    })
                            })

                    }
                    opinion(2) //user 1
                    opinion(23) //2
                    opinion(45) //3
                    opinion(46) //3
                    opinion(61) //4
                </script>
            </div>

        </main>
        <footer id="idfooter" class="item"></footer>
    </section>
    <script src="js/comunes.js"></script>
    <script src="js/validacion.js"></script>
</body>

</html>